<div>
	<select id="selectProjet">
	</select>
	<button>Saisie</button>
</div>
<div id="dialog-form-saisie" title="Saisir un temps de travail">
    <form>
    	<div><label for="nom">Membre du personnel</label>
    	<select id="selectRessource"></select></div>
        <div><label for="referenceTache">Tâche avancée</label>
    	<select id="selectTache"></select></div>
        <div><label for="tpsPasse">Temps passé sur la tâche (h)</label>
        <input type="number" id="tpsPasseTache"></div>
        <div><label for="tpsPasse">Pourcentage avancement tâche (%)</label>
        <input type="number" id="pourcentTache"></div>
    </form>
</div>
<script>
	function majProjets(){
		$("#selectProjet").empty();

		$.getJSON("http://localhost/Developement/queries/parametres.php?objet=projets", function(data){
			if(jQuery.parseJSON(data.data) !== false)
			jQuery.parseJSON(data.data).forEach(function (currentValue) {
				$("#selectProjet").append("<option value='" + currentValue.codeProjet + "'>" + currentValue.libelleProjet + "</option>");
			});
			$.getJSON("http://localhost/Developement/queries/parametres.php?objet=ressources", function(data){
				if(jQuery.parseJSON(data.data) !== false)
				jQuery.parseJSON(data.data).forEach(function (currentValue) {
					$("#selectRessource").append("<option value='" + currentValue.codeRessource + "'>" + currentValue.nomRessource + "</option>");
				});
				majTaches();
			});
		});
	}

	majProjets();

	function majTaches(){
		$("#selectTache").empty();

		$.getJSON("http://localhost/Developement/queries/previsionnel.php?idProjet=" + $("#selectProject").val(), function(data){
			if(jQuery.parseJSON(data.data) !== false)
			jQuery.parseJSON(data.data).forEach(function (currentValue) {
				$("#selectTache").append("<option value='" + currentValue.referenceTache + "'>" + currentValue.libelleTache + "</option>");
			});
		});
	}
</script>